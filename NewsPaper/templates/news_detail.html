{% extends 'flatpages/default.html' %}

{% load custom_filters %}

{% block title %}
{{ post.title }}
{% endblock title %}

{% block content %}
    <h1>{{ post.title|censor }}</h1>
    
    <div class="post-meta">
        <p><strong>Дата публикации:</strong> {{ post.create_at|date:"d.m.Y" }}</p>
        <p><strong>Автор:</strong> {{ post.author.user.username }}</p>
        <p><strong>Рейтинг:</strong> {{ post.rating }}</p>
        <p><strong>Тип:</strong> {{ post.get_post_type_display }}</p>
    </div>
    
    <div class="post-content">
        <p>{{ post.text|censor }}</p>
    </div>
    
    <!-- Кнопки редактирования и удаления -->
<div class="mt-4">
    {% if post.post_type == 'NW' %}
        <a href="{% url 'news_edit' post.pk %}" class="btn btn-primary">Редактировать новость</a>
        <a href="{% url 'news_delete' post.pk %}" class="btn btn-danger">Удалить новость</a>
    {% else %}
        <a href="{% url 'article_edit' post.pk %}" class="btn btn-primary">Редактировать статью</a>
        <a href="{% url 'article_delete' post.pk %}" class="btn btn-danger">Удалить статью</a>
    {% endif %}
    <a href="{% url 'news_list' %}" class="btn btn-secondary">Назад к списку</a>
</div>
{% endblock content %}